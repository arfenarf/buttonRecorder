{"components":[{"id":"_stickplusscreen","createTime":1668291172691,"name":"screen","x":0,"y":0,"width":160,"height":284,"backgroundColor":"#111111","backgroundImage":"","size":0,"type":"screen"},{"id":"IuhvM=h5wNW4JC%*","createTime":1668291451408,"isCoreTwo":false,"isPaper":false,"name":"label0","x":7,"y":225,"color":"#FFFFFF","text":"label0","font":"lcd.FONT_Default","rotation":270,"type":"label","layer":10},{"id":"o*u8gSjX!Y*uO=Ax","createTime":1668298463187,"isCoreTwo":false,"isPaper":false,"name":"label1","x":109,"y":225,"color":"#FFFFFF","text":"label1","font":"lcd.FONT_Default","rotation":270,"type":"label","layer":19,"width":null,"height":null,"radius":null}],"type":"stick-C-plus","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable id=\"9e;*U0usX?fu3%}-X@P(\">message</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"123\" y=\"145\"><next><block type=\"screen_set_brightness\" id=\"VU1oDjBcX%yDDh]sNYIe\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"w/eTwuc7t^1bGIC=Ry;V\"><field name=\"NUM\" max=\"100\" step=\"1\">30</field></shadow></value><next><block type=\"label_set_text\" id=\"E/j?9:[$,Kl/Tf@:wW1b\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"UKqQ@]`WhO-2?T~~q`?i\"><field name=\"TEXT\">Waiting for WiFi</field></shadow></value><next><block type=\"label_set_text\" id=\"v}MG5CCY(kA+N{kDvUVZ\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"=$)J4Q*}anpy3W-bs@pV\"><field name=\"TEXT\"></field></shadow><block type=\"axp_get_bat_voltage_percent\" id=\"XRBa@B#|*3/c8P`hgjR2\"></block></value><next><block type=\"wifi_connect\" id=\"kb86eVe_AW_!+RT$iL2W\"><next><block type=\"label_set_text\" id=\"6ylXZ~AwYeTxr$;yap%G\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"Gfp/?4$.)1HBTHP|JTcd\"><field name=\"TEXT\">Waiting For Button</field></shadow></value><next><block type=\"timer_delay\" id=\"zPi$re1^zO9NBb+RkgTS\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"3uj$$MZ;%/XMV{pBFc{O\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"screen_set_brightness\" id=\"}`H3GM,b~]znwx*obdRi\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"?i4o]8:?wVldi:?T*w6f\"><field name=\"NUM\" max=\"100\" step=\"1\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"screen_set_brightness\" id=\"`Bkp^_Z~(b4zcDA~FEz:\" disabled=\"true\" x=\"151\" y=\"228\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"LtnoEJ,SGXvz+8aZEg=S\" disabled=\"true\"><field name=\"NUM\" max=\"100\" step=\"1\">30</field></shadow></value></block><block type=\"button_callback\" id=\"+T|;t;tI2(cEgiA2Z,Un\" x=\"550\" y=\"210\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"http_request\" id=\"_j,:/83mF1hhL|}L|=eN\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"$:fo({_#xXHLX@fAv7`8\"><field name=\"TEXT\">http://192.168.1.18:8000/button</field></shadow></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"rie*+/f5gNRATNhrj}dd\"></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"TO.%~5.(+eBJV7K8c(EX\"></block></value><statement name=\"fail\"><block type=\"label_set_text\" id=\"D7_5m.(S1A]`E06ZhN@j\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"9]^2(YABQ%ET3,1RqtAe\"><field name=\"TEXT\">\"dang\"</field></shadow><block type=\"get_status_code\" id=\"N##uduK7mTlCUV8:MY(k\"></block></value></block></statement><next><block type=\"variables_set\" id=\"qYR1=yW~M=?NrT`$?H@b\"><field name=\"VAR\" id=\"9e;*U0usX?fu3%}-X@P(\">message</field><value name=\"VALUE\"><block type=\"loads_json\" id=\"kS(S(DVFe[1B,~*/H7u%\"><value name=\"JSON_VAR\"><block type=\"get_data\" id=\"e,16!0ZP)$G:Nl]Vme[m\"></block></value></block></value><next><block type=\"label_set_text\" id=\"x2]=W~!pobr7ymNWFB.(\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"26ID|zS}pQY04Q@W-|`!\"><field name=\"TEXT\"></field></shadow><block type=\"get_map_key\" id=\"mny+ylCq3gB8D=X],^f[\"><value name=\"key\"><block type=\"text\" id=\"d`Ip{*r{rf7,[tR;A,O6\"><field name=\"TEXT\">messages</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"PH{SWIq4]K%z=9;XJRDw\"><field name=\"VAR\" id=\"9e;*U0usX?fu3%}-X@P(\">message</field></block></value></block></value><next><block type=\"m5ledon\" id=\"a|QB@he1*^*I9at;.nq{\"><next><block type=\"timer_delay\" id=\"DuzBf$tAO6+GCoxe/}-M\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"u#=3s|3}w)g{qcGoJs7%\"><field name=\"NUM\">0.1</field></shadow></value><next><block type=\"m5ledoff\" id=\"@)c.h#{IH/-np7A_G#C{\"><next><block type=\"procedures_callnoreturn\" id=\"eO-Uh7Y8JGcK(TE-o}7z\"><mutation name=\"update_battery\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"%J^Ji:UA;H^6[K@@/_=8\" x=\"130\" y=\"470\"><field name=\"NAME\">update_battery</field><comment pinned=\"false\" h=\"80\" w=\"160\">Updates battery levels and shuts off screen after 5s</comment><statement name=\"STACK\"><block type=\"screen_set_brightness\" id=\"ep%F7{Qu(U@;lFN?Ce^r\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"{ek,bwCO6XC|`6NZ.ZN(\"><field name=\"NUM\" max=\"100\" step=\"1\">30</field></shadow></value><next><block type=\"label_set_text\" id=\"B|Y;GN^SS,:L4n#ICo,Y\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"axp_get_bat_voltage_percent\" id=\"0zZ/HkC}B#U9!l3n6MP~\"></block></value><next><block type=\"timer_delay\" id=\"oCJh/Q1lg)Q64/5XzOlL\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"^vUt`,DegMSth+kintw(\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"screen_set_brightness\" id=\"_cE5*=,,4gDZT3lj.}zM\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"P@jZQtBs.{.=t-v-y4LI\"><field name=\"NUM\" max=\"100\" step=\"1\">0</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"button_callback\" id=\"P$.{!o4B)0c5kdP9|2vH\" x=\"130\" y=\"690\"><field name=\"BUTTON\">B</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\"`1HU_A/6XFCJ1Ht2O`pb\"><mutation name=\"update_battery\"></mutation></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1668296326237,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"nc0fYNAvEm4jZlBLzu1A9QKWgzCGHyfa","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":[],"cbIdList_":[],"eventCBIdList_":[],"apikey":"D4430A38","uuid":"41267048-3857-466d-8a06-598e055deb89"}